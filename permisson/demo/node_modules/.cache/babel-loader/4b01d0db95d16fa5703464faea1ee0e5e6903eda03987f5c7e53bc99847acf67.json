{"ast":null,"code":"import { reactive, ref } from 'vue';\n\n// 定义 props 和 emits\n\nexport default {\n  __name: 'addProduct',\n  props: {\n    showDrawer: Boolean\n  },\n  emits: ['update:showDrawer'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const emit = __emit;\n\n    // 表单数据和验证规则\n    const form = reactive({\n      name: '',\n      url: '',\n      owner: '',\n      type: '',\n      approver: '',\n      dateTime: null,\n      description: ''\n    });\n    const rules = {\n      name: [{\n        required: true,\n        message: 'Please enter user name'\n      }],\n      url: [{\n        required: true,\n        message: 'please enter url'\n      }],\n      owner: [{\n        required: true,\n        message: 'Please select an owner'\n      }],\n      type: [{\n        required: true,\n        message: 'Please choose the type'\n      }],\n      approver: [{\n        required: true,\n        message: 'Please choose the approver'\n      }],\n      dateTime: [{\n        required: true,\n        message: 'Please choose the dateTime',\n        type: 'object'\n      }],\n      description: [{\n        required: true,\n        message: 'Please enter url description'\n      }]\n    };\n\n    // 控制抽屉开关的变量\n    const open = ref(false);\n\n    // 通过 v-model 控制抽屉开关\n    const showDrawer = ref(props.showDrawer);\n    const onClose = () => {\n      open.value = false;\n    };\n\n    // 监听抽屉的关闭事件并同步状态\n    const afterDrawerChange = val => {\n      if (!val) {\n        emit('update:showDrawer', false); // 更新父组件的 showDrawer 状态\n      }\n    };\n    const __returned__ = {\n      props,\n      emit,\n      form,\n      rules,\n      open,\n      showDrawer,\n      onClose,\n      afterDrawerChange,\n      reactive,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","props","__props","emit","__emit","form","name","url","owner","type","approver","dateTime","description","rules","required","message","open","showDrawer","onClose","value","afterDrawerChange","val"],"sources":["E:/permisson/demo/src/components/product/addProduct.vue"],"sourcesContent":["<template>\r\n  <a-drawer\r\n    title=\"Create a new account\"\r\n    :width=\"720\"\r\n    :open=\"open\"\r\n    :body-style=\"{ paddingBottom: '80px' }\"\r\n    :footer-style=\"{ textAlign: 'right' }\"\r\n    @close=\"onClose\"\r\n    @after-open-change=\"afterDrawerChange\" \r\n    v-model:open=\"open\" \r\n  >\r\n    <a-form :model=\"form\" :rules=\"rules\" layout=\"vertical\">\r\n      <a-row :gutter=\"16\">\r\n        <a-col :span=\"12\">\r\n          <a-form-item label=\"Name\" name=\"name\">\r\n            <a-input v-model:value=\"form.name\" placeholder=\"Please enter user name\" />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"12\">\r\n          <a-form-item label=\"Url\" name=\"url\">\r\n            <a-input\r\n              v-model:value=\"form.url\"\r\n              style=\"width: 100%\"\r\n              addon-before=\"http://\"\r\n              addon-after=\".com\"\r\n              placeholder=\"please enter url\"\r\n            />\r\n          </a-form-item>\r\n        </a-col>\r\n      </a-row>\r\n      <a-row :gutter=\"16\">\r\n        <a-col :span=\"12\">\r\n          <a-form-item label=\"Owner\" name=\"owner\">\r\n            <a-select v-model:value=\"form.owner\" placeholder=\"Please a-s an owner\">\r\n              <a-select-option value=\"xiao\">Xiaoxiao Fu</a-select-option>\r\n              <a-select-option value=\"mao\">Maomao Zhou</a-select-option>\r\n            </a-select>\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"12\">\r\n          <a-form-item label=\"Type\" name=\"type\">\r\n            <a-select v-model:value=\"form.type\" placeholder=\"Please choose the type\">\r\n              <a-select-option value=\"private\">Private</a-select-option>\r\n              <a-select-option value=\"public\">Public</a-select-option>\r\n            </a-select>\r\n          </a-form-item>\r\n        </a-col>\r\n      </a-row>\r\n      <a-row :gutter=\"16\">\r\n        <a-col :span=\"12\">\r\n          <a-form-item label=\"Approver\" name=\"approver\">\r\n            <a-select v-model:value=\"form.approver\" placeholder=\"Please choose the approver\">\r\n              <a-select-option value=\"jack\">Jack Ma</a-select-option>\r\n              <a-select-option value=\"tom\">Tom Liu</a-select-option>\r\n            </a-select>\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"12\">\r\n          <a-form-item label=\"DateTime\" name=\"dateTime\">\r\n            <a-date-picker\r\n              v-model:value=\"form.dateTime\"\r\n              style=\"width: 100%\"\r\n              :get-popup-container=\"trigger => trigger.parentElement\"\r\n            />\r\n          </a-form-item>\r\n        </a-col>\r\n      </a-row>\r\n      <a-row :gutter=\"16\">\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"Description\" name=\"description\">\r\n            <a-textarea\r\n              v-model:value=\"form.description\"\r\n              :rows=\"4\"\r\n              placeholder=\"please enter url description\"\r\n            />\r\n          </a-form-item>\r\n        </a-col>\r\n      </a-row>\r\n    </a-form>\r\n    <template #extra>\r\n      <a-space>\r\n        <a-button type=\"primary\" @click=\"onClose\">Submit</a-button>\r\n      </a-space>\r\n    </template>\r\n  </a-drawer>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref, defineProps, defineEmits } from 'vue';\r\n\r\n// 定义 props 和 emits\r\nconst props = defineProps({\r\n  showDrawer: Boolean\r\n});\r\n\r\nconst emit = defineEmits(['update:showDrawer']);\r\n\r\n// 表单数据和验证规则\r\nconst form = reactive({\r\n  name: '',\r\n  url: '',\r\n  owner: '',\r\n  type: '',\r\n  approver: '',\r\n  dateTime: null,\r\n  description: '',\r\n});\r\n\r\nconst rules = {\r\n  name: [{ required: true, message: 'Please enter user name' }],\r\n  url: [{ required: true, message: 'please enter url' }],\r\n  owner: [{ required: true, message: 'Please select an owner' }],\r\n  type: [{ required: true, message: 'Please choose the type' }],\r\n  approver: [{ required: true, message: 'Please choose the approver' }],\r\n  dateTime: [{ required: true, message: 'Please choose the dateTime', type: 'object' }],\r\n  description: [{ required: true, message: 'Please enter url description' }],\r\n};\r\n\r\n// 控制抽屉开关的变量\r\nconst open = ref(false);\r\n\r\n// 通过 v-model 控制抽屉开关\r\nconst showDrawer = ref(props.showDrawer);\r\n\r\nconst onClose = () => {\r\n  open.value = false;\r\n};\r\n\r\n// 监听抽屉的关闭事件并同步状态\r\nconst afterDrawerChange = (val) => {\r\n  if (!val) {\r\n    emit('update:showDrawer', false);  // 更新父组件的 showDrawer 状态\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n/* 样式保持不变 */\r\n</style>\r\n"],"mappings":"AAwFA,SAASA,QAAQ,EAAEC,GAA6B,QAAQ,KAAK;;AAE7D;;;;;;;;;;;;;IACA,MAAMC,KAAK,GAAGC,OAEZ;IAEF,MAAMC,IAAI,GAAGC,MAAkC;;IAE/C;IACA,MAAMC,IAAI,GAAGN,QAAQ,CAAC;MACpBO,IAAI,EAAE,EAAE;MACRC,GAAG,EAAE,EAAE;MACPC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,EAAE;MACRC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,IAAI;MACdC,WAAW,EAAE;IACf,CAAC,CAAC;IAEF,MAAMC,KAAK,GAAG;MACZP,IAAI,EAAE,CAAC;QAAEQ,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE;MAAyB,CAAC,CAAC;MAC7DR,GAAG,EAAE,CAAC;QAAEO,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE;MAAmB,CAAC,CAAC;MACtDP,KAAK,EAAE,CAAC;QAAEM,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE;MAAyB,CAAC,CAAC;MAC9DN,IAAI,EAAE,CAAC;QAAEK,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE;MAAyB,CAAC,CAAC;MAC7DL,QAAQ,EAAE,CAAC;QAAEI,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE;MAA6B,CAAC,CAAC;MACrEJ,QAAQ,EAAE,CAAC;QAAEG,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,4BAA4B;QAAEN,IAAI,EAAE;MAAS,CAAC,CAAC;MACrFG,WAAW,EAAE,CAAC;QAAEE,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE;MAA+B,CAAC;IAC3E,CAAC;;IAED;IACA,MAAMC,IAAI,GAAGhB,GAAG,CAAC,KAAK,CAAC;;IAEvB;IACA,MAAMiB,UAAU,GAAGjB,GAAG,CAACC,KAAK,CAACgB,UAAU,CAAC;IAExC,MAAMC,OAAO,GAAGA,CAAA,KAAM;MACpBF,IAAI,CAACG,KAAK,GAAG,KAAK;IACpB,CAAC;;IAED;IACA,MAAMC,iBAAiB,GAAIC,GAAG,IAAK;MACjC,IAAI,CAACA,GAAG,EAAE;QACRlB,IAAI,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC,CAAE;MACrC;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}