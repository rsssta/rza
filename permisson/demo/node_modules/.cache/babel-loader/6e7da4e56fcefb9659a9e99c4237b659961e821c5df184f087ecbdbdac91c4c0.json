{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_table = _resolveComponent(\"a-table\");\n  return _openBlock(), _createBlock(_component_a_table, {\n    dataSource: $setup.dataSource,\n    columns: _ctx.columns\n  }, null, 8 /* PROPS */, [\"dataSource\", \"columns\"]);\n}","map":{"version":3,"names":["_createBlock","_component_a_table","dataSource","$setup","columns","_ctx"],"sources":["E:\\permisson\\demo\\src\\views\\products\\productsinfo.vue"],"sourcesContent":["<template>\r\n    <a-table :dataSource=\"dataSource\" :columns=\"columns\" />\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive,toRefs } from 'vue';\r\nimport { createDirectus, rest, readItems,ref } from '@directus/sdk';\r\n// 数据源\r\nlet dataSource = reactive({\r\n    tableDatas:[],\r\n    tableColumns:[\r\n    {\r\n        title: '产品id',\r\n        dataIndex: 'id',\r\n        key: 'id',\r\n    },\r\n    {\r\n        title: '产品名称',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n    },\r\n    {\r\n        title: '价格',\r\n        dataIndex: 'price',\r\n        key: 'price',\r\n    },\r\n    {\r\n        title: '类别',\r\n        dataIndex: 'sort',\r\n        key: 'sort',\r\n    }\r\n    ]\r\n});\r\nlet { tableDatas, tableColumns } = toRefs(dataSource);\r\nconst client = createDirectus('http://localhost:8055').with(rest());\r\n// 获取产品数据\r\nasync function fetchItems() {\r\n    try {\r\n        const result = await client.request(readItems('products', {\r\n            fields: ['*'],\r\n        }));\r\n        console.log(result);\r\n        tableDatas.value = result.data.map(item => ({\r\n            key: item.id,  // 使用 id 作为 key\r\n            id: item.id,\r\n            name: item.name,\r\n            price: item.price,\r\n            sort: item.sort,\r\n        }));\r\n    } catch (error) {\r\n        console.error('Failed to fetch items:', error);\r\n    }\r\n};\r\n</script>"],"mappings":";;;uBACIA,YAAA,CAAuDC,kBAAA;IAA7CC,UAAU,EAAEC,MAAA,CAAAD,UAAU;IAAGE,OAAO,EAAEC,IAAA,CAAAD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}