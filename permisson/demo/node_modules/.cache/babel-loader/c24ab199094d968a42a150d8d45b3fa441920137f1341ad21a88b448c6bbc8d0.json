{"ast":null,"code":"import \"core-js/modules/es.array.with.js\";\nimport { reactive, toRefs } from 'vue';\nimport { createDirectus, rest, readItems, ref } from '@directus/sdk';\nexport default {\n  __name: 'productsinfo',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const pr = ref([]);\n    const client = createDirectus('http://localhost:8055').with(rest());\n    // 获取产品数据\n    async function fetchItems() {\n      try {\n        const result = await client.request(readItems('products', {\n          fields: ['*']\n        }));\n        console.log(result);\n        pr.value = result.data;\n      } catch (error) {\n        console.error('Failed to fetch items:', error);\n      }\n    }\n    ;\n    // 数据源\n    const dataSource = reactive({\n      tableDatas: [],\n      tableColumns: [{\n        title: '产品id',\n        dataIndex: 'id',\n        key: 'id'\n      }, {\n        title: '产品名称',\n        dataIndex: 'name',\n        key: 'name'\n      }, {\n        title: '价格',\n        dataIndex: 'price',\n        key: 'price'\n      }, {\n        title: '类别',\n        dataIndex: 'sort',\n        key: 'sort'\n      }]\n    });\n    const __returned__ = {\n      pr,\n      client,\n      fetchItems,\n      dataSource,\n      reactive,\n      toRefs,\n      get createDirectus() {\n        return createDirectus;\n      },\n      get rest() {\n        return rest;\n      },\n      get readItems() {\n        return readItems;\n      },\n      get ref() {\n        return ref;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","toRefs","createDirectus","rest","readItems","ref","pr","client","with","fetchItems","result","request","fields","console","log","value","data","error","dataSource","tableDatas","tableColumns","title","dataIndex","key"],"sources":["E:/permisson/demo/src/views/products/productsinfo.vue"],"sourcesContent":["<template>\r\n    <a-table :dataSource=\"dataSource\" :columns=\"columns\" />\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive,toRefs } from 'vue';\r\nimport { createDirectus, rest, readItems,ref } from '@directus/sdk';\r\nconst pr = ref([]);\r\nconst client = createDirectus('http://localhost:8055').with(rest());\r\n// 获取产品数据\r\nasync function fetchItems() {\r\n    try {\r\n        const result = await client.request(readItems('products', {\r\n            fields: ['*'],\r\n        }));\r\n        console.log(result);\r\n        pr.value = result.data;\r\n    } catch (error) {\r\n        console.error('Failed to fetch items:', error);\r\n    }\r\n};\r\n// 数据源\r\nconst dataSource = reactive({\r\n    tableDatas:[],\r\n    tableColumns:[\r\n    {\r\n        title: '产品id',\r\n        dataIndex: 'id',\r\n        key: 'id',\r\n    },\r\n    {\r\n        title: '产品名称',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n    },\r\n    {\r\n        title: '价格',\r\n        dataIndex: 'price',\r\n        key: 'price',\r\n    },\r\n    {\r\n        title: '类别',\r\n        dataIndex: 'sort',\r\n        key: 'sort',\r\n    }\r\n    ]\r\n});\r\n</script>"],"mappings":";AAKA,SAASA,QAAQ,EAACC,MAAM,QAAQ,KAAK;AACrC,SAASC,cAAc,EAAEC,IAAI,EAAEC,SAAS,EAACC,GAAG,QAAQ,eAAe;;;;;;;IACnE,MAAMC,EAAE,GAAGD,GAAG,CAAC,EAAE,CAAC;IAClB,MAAME,MAAM,GAAGL,cAAc,CAAC,uBAAuB,CAAC,CAACM,IAAI,CAACL,IAAI,CAAC,CAAC,CAAC;IACnE;IACA,eAAeM,UAAUA,CAAA,EAAG;MACxB,IAAI;QACA,MAAMC,MAAM,GAAG,MAAMH,MAAM,CAACI,OAAO,CAACP,SAAS,CAAC,UAAU,EAAE;UACtDQ,MAAM,EAAE,CAAC,GAAG;QAChB,CAAC,CAAC,CAAC;QACHC,OAAO,CAACC,GAAG,CAACJ,MAAM,CAAC;QACnBJ,EAAE,CAACS,KAAK,GAAGL,MAAM,CAACM,IAAI;MAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZJ,OAAO,CAACI,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAClD;IACJ;IAAC;IACD;IACA,MAAMC,UAAU,GAAGlB,QAAQ,CAAC;MACxBmB,UAAU,EAAC,EAAE;MACbC,YAAY,EAAC,CACb;QACIC,KAAK,EAAE,MAAM;QACbC,SAAS,EAAE,IAAI;QACfC,GAAG,EAAE;MACT,CAAC,EACD;QACIF,KAAK,EAAE,MAAM;QACbC,SAAS,EAAE,MAAM;QACjBC,GAAG,EAAE;MACT,CAAC,EACD;QACIF,KAAK,EAAE,IAAI;QACXC,SAAS,EAAE,OAAO;QAClBC,GAAG,EAAE;MACT,CAAC,EACD;QACIF,KAAK,EAAE,IAAI;QACXC,SAAS,EAAE,MAAM;QACjBC,GAAG,EAAE;MACT,CAAC;IAEL,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}